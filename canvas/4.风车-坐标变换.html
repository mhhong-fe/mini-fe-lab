<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8" />
        <title>Canvas é™æ€é£è½¦ç¤ºä¾‹</title>
        <style>
            body {
                display: flex;
                flex-direction: column;
                align-items: center;
                font-family: system-ui, sans-serif;
                background: #f0f0f0;
                padding: 40px;
            }
            canvas {
                border: 1px solid #ccc;
                background: #fff;
            }
        </style>
    </head>
    <body>
        <h2>ğŸ¨ Canvas é™æ€é£è½¦</h2>
        <canvas id="canvas" width="400" height="400"></canvas>

        <script>
            const canvas = document.getElementById("canvas");
            const ctx = canvas.getContext("2d");

            // é«˜åˆ†å±é€‚é…
            const dpr = window.devicePixelRatio || 1;
            canvas.width = 400 * dpr;
            canvas.height = 400 * dpr;
            canvas.style.width = "400px";
            canvas.style.height = "400px";
            ctx.scale(dpr, dpr);

            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, 400, 400);

            // åæ ‡ç³»ä¸­å¿ƒ
            const cx = 200;
            const cy = 200;

            // ç»˜åˆ¶é£è½¦å¶ç‰‡
            function drawBlade(color) {
                ctx.fillStyle = color;
                ctx.beginPath();
                ctx.moveTo(0, 0);
                ctx.lineTo(80, -20);
                ctx.lineTo(80, 20);
                ctx.closePath();
                ctx.fill();
                ctx.strokeStyle = "#333";
                ctx.lineWidth = 1;
                ctx.stroke();
            }

            const colors = ["#ff4d4f", "#ffa940", "#73d13d", "#40a9ff"];

            // ä¿å­˜çŠ¶æ€ -> å¹³ç§»åˆ°ä¸­å¿ƒ -> æ—‹è½¬ -> ç»˜åˆ¶å¶ç‰‡ -> æ¢å¤
            for (let i = 0; i < 4; i++) {
                ctx.save();
                ctx.translate(cx, cy);
                ctx.rotate((i * Math.PI) / 2);
                drawBlade(colors[i]);
                ctx.restore();
            }

            // ç»˜åˆ¶é£è½¦è½´
            ctx.beginPath();
            ctx.arc(cx, cy, 15, 0, Math.PI * 2);
            ctx.fillStyle = "#333";
            ctx.fill();

            // ç»˜åˆ¶æ”¯æ¶
            ctx.beginPath();
            ctx.moveTo(cx, cy + 15);
            ctx.lineTo(cx, 350);
            ctx.lineWidth = 6;
            ctx.strokeStyle = "#555";
            ctx.stroke();
        </script>
    </body>
</html>
